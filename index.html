<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock, Paper and Scissors</title>
    <link rel="stylesheet" href="index.css">
</head>
<body>
<div>
    <h4><em>do well to send your reviews to 09063325637 or ibesarah01@gmail.com. Have fun!</h4></em>
</div> 
    <div class="flex">
        <h1>ROCK PAPER SCISSORS</h1>
        <h2>Choose Your Weapon</h2>
        <h3>One with a score of 5 wins!</h3>
    
    
        <div class="optionBtn">
          <button id="rock">Rock</button>
          <button id="paper">Paper</button>
          <button id="scissors">Scissors</button>
        </div>
    
        <div class="labels">
          <span id="playerLabel">Player scores</span>
          <span id="compLabel">Computer scores</span>
        </div>
    
    
        <div class="scores">
          <div id="playerScore"></div>
          <div id="computerScore"></div>
        </div>
    
      <div><span id="resultsLabel">Results</label></div>
    
    
        <div id="roundResults"></div>
    
      <div>
        <button id="reset">Play Again!</button>
      </div>
    
      </div>    
    <script>
      const optionBtn = document.querySelectorAll('div.optionBtn button');
const roundResults = document.querySelector('#roundResults');
const playerPoints = document.querySelector('#playerScore');
const computerPoints = document.querySelector('#computerScore');
const resetBtn = document.querySelector('#reset');
const rock = document.querySelector('#rock');
const paper = document.querySelector('#paper');
const scissors = document.querySelector('#scissors');

        let choices = ["Rock", "Paper", "Scissors"];
        let playerScore = 0;
        let compScore = 0;
     
        
        function computerPlay() {
            let result = choices[Math.floor(Math.random() * choices.length)]
        return result;
        }
        console.log(computerPlay());
      // function that plays a single round//

startGame();

      function playRound(playerSelection, computerSelection){
        
        if (playerSelection == "rock") {
      if (computerSelection === "Scissors") {
          playerPoints.textContent = ++playerScore
        roundResults.textContent =  "You win! Rock beats Scissors.";
      }else if(computerSelection === "Paper"){
          computerPoints.textContent = ++compScore
        roundResults.textContent = "You lose! Paper beats rock.";
      }else {
          playerPoints.textContent = ++playerScore
          computerPoints.textContent = ++compScore
        roundResults.textContent = "Tie!"
      }
     
  }else if (playerSelection === 'paper') {
    if (computerSelection === "Scissors") {
          computerPoints.textContent = ++compScore
        roundResults.textContent = "You lose! Scissors beats Paper!";
      }else if (computerSelection === "Rock") {
          playerPoints.textContent = ++playerScore
        roundResults.textContent = "You win! Paper beats Rock!";
      }else {
          playerPoints.textContent = ++playerScore
          computerPoints.textContent = ++compScore
        roundResults.textContent = "Tie!";
      }
  }else if(playerSelection === "scissors") {
    if (computerSelection === "Rock") {
          computerPoints.textContent = ++compScore
        roundResults.textContent = "You lose! Rock beats Scissors!";
      }else if (computerSelection === "Paper") {
          playerPoints.textContent = ++playerScore
        roundResults.textContent = "You win! Scissors beats Paper!";
      }else {
          playerPoints.textContent = ++playerScore
          computerPoints.textContent = ++compScore
        roundResults.textContent = "Tie!"
      }
  }    checkWinner();      
        }
        resetGame();

 // a five round game that keeps score and reports winner or loser at the end.
 function checkWinner() {
  if (compScore == 5 && playerScore == 5) {
    roundResults.textContent = "The game is a Tie!";
    roundResults.style.color ='blue';
     optionBtn.forEach(button => {
     button.removeEventListener('click', getPlayerChoice);
   });
  }else if (compScore == 5) {
     roundResults.textContent = " Ouch! You Lost the game to a computer!";
     roundResults.style.color ='red';
      optionBtn.forEach(button => {
      button.removeEventListener('click', getPlayerChoice);
    });
  }else if (playerScore == 5) {
    roundResults.textContent =  "You Win the game!!!!! Cheers!";
    roundResults.style.color ='green';
     optionBtn.forEach(button => {
     button.removeEventListener('click', getPlayerChoice);
   });
  }
}

function resetGame() {
  resetBtn.addEventListener('click',() => 
    location.reload());
}


function startGame() {
  optionBtn.forEach(button => {
    button.addEventListener('click', getPlayerChoice);
  });
}



function getPlayerChoice(e) {
  playerSelection = (e.target.id)
  playRound(playerSelection, computerPlay());
}

    </script>
</body>
</html>